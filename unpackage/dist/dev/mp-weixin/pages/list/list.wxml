<view class="list"><view class="list-hd"><view data-event-opts="{{[['tap',[['showFilterModal',['$event']]]]]}}" class="filter-icon" bindtap="__e"><text class="text">筛选</text><uni-icons vue-id="2e637200-1" type="gear" size="18" color="#f7931e" bind:__l="__l"></uni-icons></view><view class="current-filter-text">{{"- "+stage.name+(grade.name?'·'+grade.name:'')+(subject.name&&'·'+subject.name)+(rank.name?'·'+rank.name:'')+(chapter.name?'·'+chapter.name:'')+"\n\t\t\t-"}}</view></view><view class="list-content"><list-scroll class="list-scroll" bind:loadmore="__e" vue-id="2e637200-2" data-event-opts="{{[['^loadmore',[['loadmore']]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{documents}}" wx:for-item="item" wx:for-index="__i0__" wx:key="_id"><list-card vue-id="{{('2e637200-3-'+__i0__)+','+('2e637200-2')}}" item="{{item}}" type="filter" bind:__l="__l"></list-card></block><block wx:if="{{documents.length==0||documents.length>9}}"><uni-load-more vue-id="{{('2e637200-4')+','+('2e637200-2')}}" status="{{load}}" iconType="snow" bind:__l="__l"></uni-load-more></block></list-scroll></view><uni-popup class="vue-ref" vue-id="2e637200-5" type="center" data-ref="popup" bind:__l="__l" vue-slots="{{['default']}}"><view class="modal-content"><uni-icons class="close-icon" vue-id="{{('2e637200-6')+','+('2e637200-5')}}" type="closeempty" color="#999" size="20" data-event-opts="{{[['^click',[['closeModal']]]]}}" bind:click="__e" bind:__l="__l"></uni-icons><list-scroll class="list-scroll" vue-id="{{('2e637200-7')+','+('2e637200-5')}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="title-text">学段</view><view class="item-box"><block wx:for="{{stages}}" wx:for-item="item" wx:for-index="__i1__" wx:key="_id"><view data-event-opts="{{[['tap',[['toggleFilter',['stage','$0'],[[['stages','_id',item._id]]]]]]]}}" class="{{['item',item.id===stage.id?'active':'']}}" bindtap="__e">{{item.name}}</view></block></view><view class="title-text">年级</view><view class="item-box"><block wx:for="{{grades}}" wx:for-item="item" wx:for-index="__i2__" wx:key="_id"><view data-event-opts="{{[['tap',[['toggleFilter',['grade','$0'],[[['grades','_id',item._id]]]]]]]}}" class="{{['item',item.id===grade.id?'active':'']}}" bindtap="__e">{{item.name}}</view></block></view><view class="title-text">学科</view><view class="item-box"><block wx:for="{{subjects}}" wx:for-item="item" wx:for-index="__i3__" wx:key="_id"><view data-event-opts="{{[['tap',[['toggleFilter',['subject','$0'],[[['subjects','_id',item._id]]]]]]]}}" class="{{['item',item.id===subject.id?'active':'']}}" bindtap="__e">{{item.name}}</view></block></view><view class="title-text">等级</view><view class="item-box"><block wx:for="{{ranks}}" wx:for-item="item" wx:for-index="__i4__" wx:key="id"><view data-event-opts="{{[['tap',[['toggleFilter',['rank','$0'],[[['ranks','id',item.id]]]]]]]}}" class="{{['item',item.id===rank.id?'active':'']}}" bindtap="__e">{{item.name}}</view></block></view></list-scroll><view class="btn-box"><view data-event-opts="{{[['tap',[['closeModal',['$event']]]]]}}" class="btn cancel" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['confirm',['$event']]]]]}}" class="btn submit" bindtap="__e">确定</view></view></view></uni-popup></view>